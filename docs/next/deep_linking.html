<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Deep Linking · Kiln</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;hr&gt;
"/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Deep Linking · Kiln"/><meta property="og:type" content="website"/><meta property="og:url" content="https://clay.github.io//clay-kiln/"/><meta property="og:description" content="&lt;hr&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/clay-kiln/"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/clay-kiln/js/scrollSpy.js"></script><link rel="stylesheet" href="/clay-kiln/css/main.css"/><script src="/clay-kiln/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/clay-kiln/"><img class="logo" src="/clay-kiln/img/kiln.png" alt="Kiln"/><h2 class="headerTitleWithLogo">Kiln</h2></a><a href="/clay-kiln/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/clay-kiln/docs/next/intro" target="_self">Introduction</a></li><li class=""><a href="https://github.com/clay/clay-kiln" target="_self">Github</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>KILN FUNDAMENTALS</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Introduction<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/clay-kiln/docs/next/intro">Introduction</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">KILN FUNDAMENTALS<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/clay-kiln/docs/next/kiln_ui">The Kiln UI</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Clay Components</h4><ul><li class="navListItem"><a class="navItem" href="/clay-kiln/docs/next/component">Components</a></li><li class="navListItem"><a class="navItem" href="/clay-kiln/docs/next/manipulating_components">Adding, Removing, and Reordering Components</a></li><li class="navListItem"><a class="navItem" href="/clay-kiln/docs/next/editing_components">Editing Components</a></li><li class="navListItem"><a class="navItem" href="/clay-kiln/docs/next/input">Form Inputs</a></li></ul></div><li class="navListItem navListItemActive"><a class="navItem" href="/clay-kiln/docs/next/deep_linking">Deep Linking</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">API DOCUMENTATION<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Kiln API</h4><ul><li class="navListItem"><a class="navItem" href="/clay-kiln/docs/next/api_kiln">API</a></li><li class="navListItem"><a class="navItem" href="/clay-kiln/docs/next/snackbar">Snackbar</a></li><li class="navListItem"><a class="navItem" href="/clay-kiln/docs/next/vuex_actions">Vuex Actions</a></li><li class="navListItem"><a class="navItem" href="/clay-kiln/docs/next/vuex_plugin">Vuex Plugins</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Deep Linking</h1></header><article><div><span><hr>
<p>All Kiln Nav Drawers, i.e. the UI elements that slide in from the right and left, can be deep-linked to by manipulating the url hash. All page components and their property modals can also be deep-linked to as the url hash is updated when they are being edited to reflect the name of the component.</p>
<p>The kiln nav drawers, both left and right are opened with the <a href="/clay-kiln/docs/next/vuex_actions#module_drawers">openDrawer</a> function (or the toggleDrawer function which calls <a href="/clay-kiln/docs/next/vuex_actions#module_drawers">openDrawer</a> when opening and <a href="/clay-kiln/docs/next/vuex_actions#module_drawers">closeDrawer</a> when closing).  The <a href="/clay-kiln/docs/next/vuex_actions#module_drawers">openDrawer</a> function sets the url hash to the value passed to it.  The value can either be a string, indicating the name of the drawer to open, or an object, which includes the name, as well as further properties that can be used to deep-link to content within the drawer, such as to a tab or a specific UI element within the drawer.</p>
<p>The hash can contain up to 4 values, each divided by a tilde.  For example: <code>#kiln~one~two~three~four</code>. The very first value in the hash, the #kiln~ value indicates that the hash is for a kiln UI element, rather than a page component.  The hash is parsed and stored in the vuex store on pageload. It is stored at store.state.url. That example hash (<code>#kiln~one~two~three~four</code>) would be stored like this:</p>
<pre><code class="hljs"><span class="hljs-selector-tag">url</span> {
  <span class="hljs-attribute">tabs</span>: <span class="hljs-string">'one'</span>,
  sites: <span class="hljs-string">'two'</span>,
  status: <span class="hljs-string">'three'</span>,
  query: <span class="hljs-string">'four'</span>
}
</code></pre>
<p>When the hash is present on the initial pageload, and the first hash parameter matches the name of a drawer, that drawer will automatically open. If there are further parameters, it is up to the drawer to react to it. For example: <code>#kiln~find-on-a-page~visible-components</code> would open the 'find-on-a-page' drawer, and the 'find-on-a-page' drawer reads the second hash parameter 'visible-components' and makes the tab with that name, the active tab. In the same way that <code>kiln~find-on-a-page~head-components</code> would open the 'find-on-a-page' drawer and make the 'head-components' tab, the active tab. The tabs component within the 'find-on-a-page' drawer is also responsible for setting the hash when the user changes tabs.  If the user is on the 'visible-components' tab and then clicks the 'head-components' tab, the url hash changes from <code>#kiln~find-on-a-page~visible-components</code> to <code>kiln~find-on-a-page~head-components</code>.  To set the hash, the <a href="/clay-kiln/docs/next/vuex_actions#module_deep-linking">setHash</a> function is called.</p>
<hr>
<h2><a class="anchor" aria-hidden="true" id="kiln-plugins"></a><a href="#kiln-plugins" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Kiln Plugins</h2>
<p>Kiln plugins can also take advantage of the hash deep-linking. The easiest way to demonstrate how to use the deep-linking with a plugin is to show a simple, example plugin.</p>
<h3><a class="anchor" aria-hidden="true" id="alert-plugin-example"></a><a href="#alert-plugin-example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Alert Plugin Example</h3>
<p>index.js - adds a nav button, and nav content to the window.kiln object.  The nav button will appear in the left nav and the nav content will appear in the left drawer when that button is clicked.  The drawer will also open if the url hash is set to <code>#kiln~alert</code>.</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-built_in">window</span>.kiln.navButtons[<span class="hljs-string">'alert'</span>] = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./nav-button.vue'</span>);
  <span class="hljs-built_in">window</span>.kiln.navContent[<span class="hljs-string">'alert'</span>] = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./main.vue'</span>);
};
</code></pre>
<p>nav-button.vue - the markup for the nav button, with a click event attached that runs the toggleDrawer function, which will open the drawer if it's closed, and close it if it's open.</p>
<pre><code class="hljs css language-vue"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">nav-menu-button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"alert"</span> <span class="hljs-attr">icon</span>=<span class="hljs-string">"images"</span> @<span class="hljs-attr">nav-click</span>=<span class="hljs-string">"toggleDrawer"</span>&gt;</span>Alert<span class="hljs-tag">&lt;/<span class="hljs-name">nav-menu-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"><span class="hljs-meta">
'use strict'</span>;
<span class="hljs-keyword">const</span> navMenuButton = <span class="hljs-built_in">window</span>.kiln.utils.components.navMenuButton;
<span class="hljs-built_in">module</span>.exports = {
  data() {
    <span class="hljs-keyword">return</span> {};
  },
  <span class="hljs-attr">methods</span>: {
    toggleDrawer() {
      <span class="hljs-keyword">this</span>.$store.dispatch(<span class="hljs-string">'toggleDrawer'</span>, <span class="hljs-string">'alert'</span>);
    }
  },
  <span class="hljs-attr">components</span>: {
    navMenuButton
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>main.vue - the contents of the drawer.  The two buttons each set the url hash to a different value, and each of the two paragraphs is only shown when the url hash matches a certain value.  Click the Danger button and the url hash becomes <code>#kiln~alert~danger</code>.  If you refresh the page after clicking that button, the alert drawer will be open, with the Danger paragraph visible.</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"activeElement === 'danger'"</span>&gt;</span>Danger Will Robinson!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-else</span>&gt;</span>Beam Me Up!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"setElement('danger')"</span>&gt;</span>Danger<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"setElement('beam')"</span>&gt;</span>Beam<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"Alert"</span>,
  <span class="hljs-attr">computed</span>: {
    activeElement() {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.$store.state.url.sites;
    }
  },
  <span class="hljs-attr">methods</span>: {
    setElement(component) {
      <span class="hljs-keyword">this</span>.$store.dispatch(<span class="hljs-string">'setHash'</span>, { <span class="hljs-attr">menu</span>: { <span class="hljs-attr">tab</span>: <span class="hljs-string">'alert'</span>, <span class="hljs-attr">sites</span>: component, <span class="hljs-attr">status</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">query</span>: <span class="hljs-string">''</span>} });
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/clay-kiln/docs/next/input"><span class="arrow-prev">← </span><span>Form Inputs</span></a><a class="docs-next button" href="/clay-kiln/docs/next/api_kiln"><span>API</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#kiln-plugins">Kiln Plugins</a><ul class="toc-headings"><li><a href="#alert-plugin-example">Alert Plugin Example</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/clay-kiln/" class="nav-home"></a><div><h5>Docs</h5><a href="/clay-kiln/docs/en/intro">Introduction</a><a href="/clay-kiln/docs/en/api_kiln">API Reference</a></div><div><h5>More</h5><a target="_blank" href="https://github.com/clay/clay-kiln">GitHub</a></div></section><section class="copyright">Copyright © 2019 New York Media</section></footer></div></body></html>